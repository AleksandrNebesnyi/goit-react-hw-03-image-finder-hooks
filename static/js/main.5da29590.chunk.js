(this["webpackJsonpgoit-react-hw-03-image-finder-hooks"]=this["webpackJsonpgoit-react-hw-03-image-finder-hooks"]||[]).push([[0],{25:function(n,e,t){},51:function(n,e,t){"use strict";t.r(e);var o,i,r,a,c,p,s=t(1),l=t.n(s),d=t(8),x=t.n(d),b=(t(24),t(25),t(12)),u=t.n(b),g=t(13),f=t(15),h=t(6),j=t(3),m=t(4),O=m.a.div(o||(o=Object(j.a)(["\nmax-width: 1440px;\nmargin-left: auto;\nmargin-right: auto;\npadding-left: 15px;\npadding-right: 15px;\n\n"]))),v=t(2),w=function(n){var e=n.children;return Object(v.jsx)(O,{children:e})},y=t(7),k=m.a.header(i||(i=Object(j.a)(["\ntop: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n"]))),C=m.a.form(r||(r=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n\n"]))),S=m.a.button(a||(a=Object(j.a)(["\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  display: inline-block;\n\n  min-width: 180px;\n  padding: 8px 16px;\n  border-radius: 2px;\n  border: 0;\n  \n  background-color: tomato;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n  text-align: center;\n  text-decoration: none;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n\n  opacity: 1;\n\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    opacity: 0.8;\n  }\n\n\n"]))),z=m.a.span(c||(c=Object(j.a)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n\n\n"]))),E=m.a.input(p||(p=Object(j.a)(["\ndisplay: inline-block;\nwidth: 100%;\nfont: inherit;\nfont-size: 20px;\nborder: none;\noutline: none;\npadding-left: 4px;\npadding-right: 4px;\n&::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n\n"]))),I=(t(14),t(17)),P=t(0),L=function(n){var e=n.onSubmit,t=Object(s.useState)(""),o=Object(h.a)(t,2),i=o[0],r=o[1];return Object(v.jsx)(k,{children:Object(v.jsxs)(C,{onSubmit:function(n){n.preventDefault(),""!==i.trim()?(e(i),r("")):y.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0417\u0430\u043f\u0440\u043e\u0441.",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:[Object(v.jsxs)(S,{type:"submit",children:[Object(v.jsx)(P.b.Provider,{value:{color:"ffffff",size:"2em"},children:Object(v.jsx)("div",{children:Object(v.jsx)(I.a,{})})}),Object(v.jsx)(z,{children:"Search"})]}),Object(v.jsx)(E,{type:"text",autocomplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"searchQuery",value:i,onChange:function(n){r(n.currentTarget.value.toLowerCase())}})]})})};var T,B,H,q,J,M=function(n,e){return fetch("".concat("https://pixabay.com/api/","?q=").concat(n,"&page=").concat(e,"&key=").concat("23744407-6e41977eb223c860dbad454a0","&image_type=photo&orientation=horizontal&per_page=12")).then((function(n){return n.ok?n.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"))}))},R=m.a.li(T||(T=Object(j.a)(["\nborder-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n}\n\n"]))),U=m.a.img(B||(B=Object(j.a)(["\nwidth: 100%;\nheight: 260px;\nobject-fit: cover;\ntransition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\nopacity: 1;\n\n&:hover,\n&:focus {\n  opacity: 0.9;\n  transform: scale(1.02);\n  cursor: zoom-in;\n\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n"]))),_=function(n){var e=n.image,t=n.onImageClick;return Object(v.jsx)(R,{children:Object(v.jsx)(U,{src:e.webformatURL,alt:e.tags,onClick:function(){return t(e.largeImageURL)}})})},D=m.a.ul(H||(H=Object(j.a)(["\n    display: grid;\n    max-width: calc(100vw - 48px);\n    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n    grid-gap: 16px;\n    margin-top: 0;\n    margin-bottom: 12px;\n    padding: 0;\n    list-style: none;\n    margin-left: auto;\n    margin-right: auto;\n\n"]))),F=function(n){var e=n.images,t=n.onImageClick;return Object(v.jsx)(D,{children:e.map((function(n){return Object(v.jsx)(_,{image:n,onImageClick:t},n.id)}))})},N=m.a.div(q||(q=Object(j.a)(["\nposition: fixed;\ntop: 0;\nleft: 0;\nwidth: 100vw;\nheight: 100vh;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nbackground-color: rgba(0, 0, 0, 0.8);\nz-index: 1200;\n"]))),Q=m.a.div(J||(J=Object(j.a)(["\nmax-width: calc(100vw - 48px);\nmax-height: calc(100vh - 24px);\n\n"]))),A=document.querySelector("#modal-root");console.log(A);var G=function(n){var e=n.onClose,t=n.children;Object(s.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(n){"Escape"===n.code&&e()};return Object(d.createPortal)(Object(v.jsx)(N,{onClick:function(n){n.currentTarget===n.target&&e()},children:Object(v.jsx)(Q,{children:t})}),A)};G.defaultProps={children:null};var K,V,W,X=G,Y=t(18),Z=t.n(Y),$=m.a.div(K||(K=Object(j.a)(["\ndisplay: grid;\nplace-content: center;\n\n"]))),nn=function(){return Object(v.jsx)($,{children:Object(v.jsx)(Z.a,{type:"TailSpin",color:"#02be6e",height:100,width:100})})},en=m.a.button(V||(V=Object(j.a)(["\n\nmargin: 0 auto;\n  margin-top: 20px;\n  width: 100px;\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n    &:hover,\n    :focus {\n      background-color: #303f9f;\n    }\n\n"]))),tn=m.a.div(W||(W=Object(j.a)(["\ndisplay: flex;\njustify-content: center;\n\nmargin-bottom: 12px;\n"])));var on=function(n){return Object(v.jsx)(tn,{children:Object(v.jsx)(en,{onClick:n.onClick,children:"load more"})})},rn=t(5),an=t.n(rn);function cn(n){var e=n.message;return y.b.error("".concat(e),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"custom-id-yes"})}cn.propTypes={message:an.a.string};var pn=cn,sn="idle",ln="pending",dn="resolved",xn="rejected",bn=function(){var n=Object(s.useState)(""),e=Object(h.a)(n,2),t=e[0],o=e[1],i=Object(s.useState)("1"),r=Object(h.a)(i,2),a=r[0],c=r[1],p=Object(s.useState)([]),l=Object(h.a)(p,2),d=l[0],x=l[1],b=Object(s.useState)(null),j=Object(h.a)(b,2),m=j[0],O=j[1],k=Object(s.useState)(!1),C=Object(h.a)(k,2),S=C[0],z=C[1],E=Object(s.useState)(""),I=Object(h.a)(E,2),P=I[0],T=I[1],B=Object(s.useState)(sn),H=Object(h.a)(B,2),q=H[0],J=H[1];console.log(a),console.log(t),Object(s.useEffect)((function(){if(t){var n=function(){var n=Object(f.a)(u.a.mark((function n(){var e;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return J(ln),console.log(t),n.prev=2,n.next=5,M(t,a).then((function(n){return n.hits}));case 5:0===(e=n.sent).length&&y.b.info("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441"),x((function(n){return[].concat(Object(g.a)(n),Object(g.a)(e))})),J(dn),1!==a&&R(),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(2),O(n.t0),J(xn);case 16:return n.prev=16,J(sn),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[2,12,16,19]])})));return function(){return n.apply(this,arguments)}}();n()}}),[t,a]);var R=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(v.jsxs)(w,{children:[Object(v.jsx)(L,{onSubmit:function(n){o(n),x([]),c(1),O(null)}}),Object(v.jsx)(F,{images:d,onImageClick:function(n){T(n),z(!0)}}),"pending"!==q&&d.length>=12&&Object(v.jsx)(on,{onClick:function(){c((function(n){return n+1}))}}),S&&Object(v.jsx)(X,{onClose:function(){z((function(n){return!n})),T("")},children:Object(v.jsx)("img",{src:P,alt:"",className:"Modal-image"})}),"pending"===q&&Object(v.jsx)(nn,{}),"rejected"===q&&Object(v.jsx)(pn,{message:m.message}),Object(v.jsx)(y.a,{autoClose:3e3})]})};x.a.render(Object(v.jsx)(l.a.StrictMode,{children:Object(v.jsx)(bn,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.5da29590.chunk.js.map