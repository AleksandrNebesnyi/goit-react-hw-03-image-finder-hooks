(this["webpackJsonpgoit-react-hw-03-image-finder-hooks"]=this["webpackJsonpgoit-react-hw-03-image-finder-hooks"]||[]).push([[0],{25:function(n,e,t){},51:function(n,e,t){"use strict";t.r(e);var r,i,o,a,c,p,s=t(1),l=t.n(s),d=t(8),x=t.n(d),b=(t(24),t(25),t(12)),u=t.n(b),g=t(13),h=t(15),f=t(6),j=t(3),m=t(4),O=m.a.div(r||(r=Object(j.a)(["\nmax-width: 1440px;\nmargin-left: auto;\nmargin-right: auto;\npadding-left: 15px;\npadding-right: 15px;\n\n"]))),v=t(2),w=function(n){var e=n.children;return Object(v.jsx)(O,{children:e})},y=t(7),k=m.a.header(i||(i=Object(j.a)(["\ntop: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n"]))),C=m.a.form(o||(o=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n\n"]))),S=m.a.button(a||(a=Object(j.a)(["\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  display: inline-block;\n\n  min-width: 180px;\n  padding: 8px 16px;\n  border-radius: 2px;\n  border: 0;\n  \n  background-color: tomato;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n  text-align: center;\n  text-decoration: none;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n\n  opacity: 1;\n\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    opacity: 0.8;\n  }\n\n\n"]))),z=m.a.span(c||(c=Object(j.a)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n\n\n"]))),E=m.a.input(p||(p=Object(j.a)(["\ndisplay: inline-block;\nwidth: 100%;\nfont: inherit;\nfont-size: 20px;\nborder: none;\noutline: none;\npadding-left: 4px;\npadding-right: 4px;\n&::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n\n"]))),I=(t(14),t(17)),P=t(0),L=function(n){var e=n.onSubmit,t=Object(s.useState)(""),r=Object(f.a)(t,2),i=r[0],o=r[1];return Object(v.jsx)(k,{children:Object(v.jsxs)(C,{onSubmit:function(n){n.preventDefault(),""!==i.trim()?(e(i),o("")):y.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0417\u0430\u043f\u0440\u043e\u0441.",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:[Object(v.jsxs)(S,{type:"submit",children:[Object(v.jsx)(P.b.Provider,{value:{color:"ffffff",size:"2em"},children:Object(v.jsx)("div",{children:Object(v.jsx)(I.a,{})})}),Object(v.jsx)(z,{children:"Search"})]}),Object(v.jsx)(E,{type:"text",autocomplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"searchQuery",value:i,onChange:function(n){o(n.currentTarget.value.toLowerCase())}})]})})};var T,B,H,q,J,M=function(n,e){return fetch("".concat("https://pixabay.com/api/","?q=").concat(n,"&page=").concat(e,"&key=").concat("23744407-6e41977eb223c860dbad454a0","&image_type=photo&orientation=horizontal&per_page=12")).then((function(n){return n.ok?n.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"))}))},Q=m.a.li(T||(T=Object(j.a)(["\nborder-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n}\n\n"]))),R=m.a.img(B||(B=Object(j.a)(["\nwidth: 100%;\nheight: 260px;\nobject-fit: cover;\ntransition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\nopacity: 1;\n\n&:hover,\n&:focus {\n  opacity: 0.9;\n  transform: scale(1.02);\n  cursor: zoom-in;\n\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n"]))),U=function(n){var e=n.image,t=n.onImageClick;return Object(v.jsx)(Q,{children:Object(v.jsx)(R,{src:e.webformatURL,alt:e.tags,onClick:function(){return t(e.largeImageURL)}})})},_=m.a.ul(H||(H=Object(j.a)(["\n    display: grid;\n    max-width: calc(100vw - 48px);\n    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n    grid-gap: 16px;\n    margin-top: 0;\n    margin-bottom: 12px;\n    padding: 0;\n    list-style: none;\n    margin-left: auto;\n    margin-right: auto;\n\n"]))),D=function(n){var e=n.images,t=n.onImageClick;return Object(v.jsx)(_,{children:e.map((function(n){return Object(v.jsx)(U,{image:n,onImageClick:t},n.id)}))})},F=m.a.div(q||(q=Object(j.a)(["\nposition: fixed;\ntop: 0;\nleft: 0;\nwidth: 100vw;\nheight: 100vh;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nbackground-color: rgba(0, 0, 0, 0.8);\nz-index: 1200;\n"]))),N=m.a.div(J||(J=Object(j.a)(["\nmax-width: calc(100vw - 48px);\nmax-height: calc(100vh - 24px);\n\n"]))),A=document.querySelector("#modal-root");console.log(A);var G=function(n){var e=n.onClose,t=n.children;Object(s.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(n){"Escape"===n.code&&e()};return Object(d.createPortal)(Object(v.jsx)(F,{onClick:function(n){n.currentTarget===n.target&&e()},children:Object(v.jsx)(N,{children:t})}),A)};G.defaultProps={children:null};var K,V,W,X=G,Y=t(18),Z=t.n(Y),$=m.a.div(K||(K=Object(j.a)(["\ndisplay: grid;\nplace-content: center;\n\n"]))),nn=function(){return Object(v.jsx)($,{children:Object(v.jsx)(Z.a,{type:"TailSpin",color:"#02be6e",height:100,width:100})})},en=m.a.button(V||(V=Object(j.a)(["\n\nmargin: 0 auto;\n  margin-top: 20px;\n  width: 100px;\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n    &:hover,\n    :focus {\n      background-color: #303f9f;\n    }\n\n"]))),tn=m.a.div(W||(W=Object(j.a)(["\ndisplay: flex;\njustify-content: center;\n\nmargin-bottom: 12px;\n"])));var rn=function(n){return Object(v.jsx)(tn,{children:Object(v.jsx)(en,{onClick:n.onClick,children:"load more"})})},on=t(5),an=t.n(on);function cn(n){var e=n.message;return y.b.error("".concat(e),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"custom-id-yes"})}cn.propTypes={message:an.a.string};var pn=cn,sn="idle",ln="pending",dn="resolved",xn="rejected",bn=function(){var n=Object(s.useState)(""),e=Object(f.a)(n,2),t=e[0],r=e[1],i=Object(s.useState)("1"),o=Object(f.a)(i,2),a=(o[0],o[1]),c=Object(s.useState)([]),p=Object(f.a)(c,2),l=p[0],d=p[1],x=Object(s.useState)(null),b=Object(f.a)(x,2),j=b[0],m=b[1],O=Object(s.useState)(!1),k=Object(f.a)(O,2),C=k[0],S=k[1],z=Object(s.useState)(""),E=Object(f.a)(z,2),I=E[0],P=E[1],T=Object(s.useState)(sn),B=Object(f.a)(T,2),H=B[0],q=B[1];Object(s.useEffect)((function(){t&&J()}),[t]);var J=function(){var n=Object(h.a)(u.a.mark((function n(e){var t,r,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.currentPage,r=e.searchQuery,q(ln),n.prev=2,n.next=5,M(t,r).then((function(n){return n.hits}));case 5:0===(i=n.sent).length&&y.b.info("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441"),d((function(n){return[].concat(Object(g.a)(n),Object(g.a)(i))})),a((function(n){return n+1})),q(dn),1!==t&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(2),m(n.t0),q(xn);case 17:return n.prev=17,q(sn),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[2,13,17,20]])})));return function(e){return n.apply(this,arguments)}}();return Object(v.jsxs)(w,{children:[Object(v.jsx)(L,{onSubmit:function(n){r(n),d([]),a(1),m(null)}}),Object(v.jsx)(D,{images:l,onImageClick:function(n){P(n),S(!0)}}),"pending"!==H&&l.length>=12&&Object(v.jsx)(rn,{onClick:J}),C&&Object(v.jsx)(X,{onClose:function(){S((function(n){return!n})),P("")},children:Object(v.jsx)("img",{src:I,alt:"",className:"Modal-image"})}),"pending"===H&&Object(v.jsx)(nn,{}),"rejected"===H&&Object(v.jsx)(pn,{message:j.message}),Object(v.jsx)(y.a,{autoClose:3e3})]})};x.a.render(Object(v.jsx)(l.a.StrictMode,{children:Object(v.jsx)(bn,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.6c363372.chunk.js.map